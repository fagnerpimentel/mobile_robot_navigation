launch:

    - arg:
        name: "world"
        default: "r2d2"

    # Gazebo server
    - executable:
        cmd: "gzserver --verbose -s libgazebo_ros_init.so -s libgazebo_ros_factory.so -s libgazebo_ros_force_system.so $(find-pkg-share mobile_robot_navigation)/resource/worlds/$(var world).world"
        env:
            - name: GAZEBO_MODEL_PATH
              value: "GAZEBO_MODEL_PATH:$(find-pkg-share mobile_robot_navigation)/resource/models"
            - name: ROS_LOCALHOST_ONLY
              value: "true"

    # Gazebo client
    - executable:
        cmd: "gzclient"

    # gazebo spawn robot
    - include:
        file: "$(find-pkg-share myfirstrobot_description)/launch/load_robot.launch.yaml"

    - node:
        name: "teleop_twist_keyboard"
        pkg:  "teleop_twist_keyboard"
        exec: "teleop_twist_keyboard"
        launch-prefix: "xterm -e"
        # remap:
        #     - from: "/cmd_vel"
        #       to: "/r2d2/cmd_vel"

    # # - node:
    # #     name: "rviz2"
    # #     pkg:  "rviz2"
    # #     exec: "rviz2"
    # #     args: "-d $(find-pkg-share mobile_robot_navigation)/resource/rviz/mapping.rviz"


    # # # - include:
    # # #     file: "$(find-pkg-share slam_toolbox)/launch/online_async_launch.py"
    # # #     arg:
    # # #         - name: "scan_topic"
    # # #           value: "/r2d2/laserscan"